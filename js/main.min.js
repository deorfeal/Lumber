class DropdownPortal{constructor(e,s){this.trigger=document.querySelector(e),this.dropdown=document.querySelector(s),this.isOpen=!1,this.isAnimating=!1,this.originalParent=this.dropdown.parentElement,this.originalNextSibling=this.dropdown.nextElementSibling,this.init()}init(){this.trigger&&this.dropdown?(this.setupDropdownStyles(),this.trigger.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),this.toggle()}),document.addEventListener("click",e=>{this.trigger.contains(e.target)||this.dropdown.contains(e.target)||this.close()}),document.addEventListener("touchstart",e=>{this.trigger.contains(e.target)||this.dropdown.contains(e.target)||this.close()}),document.addEventListener("dragstart",()=>{this.close()}),window.addEventListener("blur",()=>{this.close()}),window.addEventListener("orientationchange",()=>{this.close()}),this.scrollHandler=()=>{this.isOpen&&this.updatePosition()},this.resizeHandler=()=>{this.isOpen&&this.updatePosition()},window.addEventListener("scroll",this.scrollHandler,{passive:!0}),window.addEventListener("resize",this.resizeHandler),document.addEventListener("keydown",e=>{"Escape"===e.key&&this.isOpen&&this.close()})):console.error("Trigger or dropdown element not found")}setupDropdownStyles(){Object.assign(this.dropdown.style,{position:"absolute",top:"0",left:"0",opacity:"0",visibility:"hidden",transition:"opacity 0.3s ease, visibility 0.3s ease, transform 0.3s ease",transform:"translateY(-10px)",zIndex:"9999",pointerEvents:"none"})}toggle(){this.isAnimating||(this.isOpen?this.close():this.open())}open(){if(this.isOpen||this.isAnimating)return;this.isAnimating=!0,document.body.appendChild(this.dropdown),this.trigger.classList.add("active");(()=>{setTimeout(()=>{const e=this.trigger.getBoundingClientRect();this.dropdown.style.width=e.width+"px",this.updatePosition(),requestAnimationFrame(()=>{Object.assign(this.dropdown.style,{opacity:"1",visibility:"visible",transform:"translateY(0)",pointerEvents:"auto"}),setTimeout(()=>{this.isAnimating=!1},300)})},350)})(),this.isOpen=!0,this.trigger.dispatchEvent(new CustomEvent("dropdownOpen",{detail:{dropdown:this.dropdown}}))}close(){this.isOpen&&!this.isAnimating&&(this.isAnimating=!0,Object.assign(this.dropdown.style,{opacity:"0",visibility:"hidden",transform:"translateY(-10px)",pointerEvents:"none"}),setTimeout(()=>{this.originalNextSibling?this.originalParent.insertBefore(this.dropdown,this.originalNextSibling):this.originalParent.appendChild(this.dropdown),this.isAnimating=!1},300),this.isOpen=!1,this.trigger.classList.remove("active"),this.trigger.dispatchEvent(new CustomEvent("dropdownClose",{detail:{dropdown:this.dropdown}})))}updatePosition(){if(!this.isOpen)return;const e=this.trigger.getBoundingClientRect(),s=window.innerWidth,t=e.bottom+window.scrollY+4;let i=e.left+window.scrollX;const o=e.width;i+o>s&&(i=s-o-10),i<10&&(i=10),this.dropdown.style.top=t+"px",this.dropdown.style.left=i+"px",this.dropdown.style.width=e.width+"px",this.dropdown.style.minWidth=e.width+"px"}destroy(){this.isOpen&&this.close(),window.removeEventListener("scroll",this.scrollHandler),window.removeEventListener("resize",this.resizeHandler),this.dropdown.style.cssText="",this.trigger.classList.remove("active")}}function initDropdowns(){document.querySelectorAll(".heading-body__locations").forEach((e,s)=>{const t=e.querySelector(".heading-locations__head"),i=e.querySelector(".places__list");t&&i&&(t.id||(t.id="dropdown-trigger-"+s),i.id||(i.id="dropdown-list-"+s),new DropdownPortal("#"+t.id,"#"+i.id))})}if(document.addEventListener("DOMContentLoaded",initDropdowns),document.addEventListener("dropdownOpen",e=>{console.log("Dropdown opened:",e.detail.dropdown)}),document.addEventListener("dropdownClose",e=>{console.log("Dropdown closed:",e.detail.dropdown)}),document.querySelector(".map")){const e=window.innerWidth<=768?11:12,s=L.map("map").setView([50.4501,30.5234],e);L.tileLayer("https://{s}.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}{r}.png",{attribution:"&copy; OpenStreetMap, &copy; CARTO",subdomains:"abcd",maxZoom:19}).addTo(s);const t=[{name:"Поділ, вул. Нижній Вал, 15",coords:[50.4654,30.5161],popup:'<div class="place__body place-body"><div class="place-body__address">Поділ, вул. Нижній Вал, 15</div><div class="place-body__time">з 10:00 до 21:00</div><a class="place-body__link" href="tel:+380934200022">+38 093 420 00 22</a></div>'},{name:"Оболонь, Оболонська набережна, 19(корп.3)",coords:[50.488,30.497],popup:'<div class="place__body place-body"><div class="place-body__address">Оболонь, Оболонська набережна, 19(корп.3)</div><div class="place-body__time">з 10:00 до 21:00</div><a class="place-body__link" href="tel:+380934200022">+38 093 420 00 22</a></div>'},{name:"Печерськ, бул. Дружби Народів, 21",coords:[50.4116,30.5452],popup:'<div class="place__body place-body"><div class="place-body__address">Печерськ, бул. Дружби Народів, 21</div><div class="place-body__time">з 10:00 до 21:00</div><a class="place-body__link" href="tel:+380934200022">+38 093 420 00 22</a></div>'},{name:"Позняки, вул. О.Мишуги, 7а (2 поверх)",coords:[50.3976,30.6306],popup:'<div class="place__body place-body"><div class="place-body__address">Позняки, вул. О.Мишуги, 7а (2 поверх)</div><div class="place-body__time">з 10:00 до 21:00</div><a class="place-body__link" href="tel:+380934200022">+38 093 420 00 22</a></div>'},{name:"Теремки, вул. Ломоносова, 48",coords:[50.3756,30.4836],popup:'<div class="place__body place-body"><div class="place-body__address">Теремки, вул. Ломоносова, 48</div><div class="place-body__time">з 10:00 до 21:00</div><a class="place-body__link" href="tel:+380934200022">+38 093 420 00 22</a></div>'},{name:"Осокорки, Дніпровська набережна, 25 Б",coords:[50.3923,30.6161],popup:'<div class="place__body place-body"><div class="place-body__address">Осокорки, Дніпровська набережна, 25 Б</div><div class="place-body__time">з 10:00 до 21:00</div><a class="place-body__link" href="tel:+380934200022">+38 093 420 00 22</a></div>'},{name:"Русанівка, вул. Ентузіастів, 25",coords:[50.4388,30.5903],popup:'<div class="place__body place-body"><div class="place-body__address">Русанівка, вул. Ентузіастів, 25</div><div class="place-body__time">з 10:00 до 21:00</div><a class="place-body__link" href="tel:+380934200022">+38 093 420 00 22</a></div>'},{name:"Виноградар, вул. Вишгородська, 32/2",coords:[50.4915,30.4286],popup:'<div class="place__body place-body"><div class="place-body__address">Виноградар, вул. Вишгородська, 32/2</div><div class="place-body__time">з 10:00 до 21:00</div><a class="place-body__link" href="tel:+380934200022">+38 093 420 00 22</a></div>'},{name:"Троєщина, вул. Цвєтаєвої, 13",coords:[50.5163,30.6199],popup:'<div class="place__body place-body"><div class="place-body__address">Троєщина, вул. Цвєтаєвої, 13</div><div class="place-body__time">з 10:00 до 21:00</div><a class="place-body__link" href="tel:+380934200022">+38 093 420 00 22</a></div>'},{name:"Солом'янка, просп. Повітряних Сил, 44 13",coords:[50.4245,30.4432],popup:'<div class="place__body place-body"><div class="place-body__address">Солом\'янка, просп. Повітряних Сил, 44 13</div><div class="place-body__time">з 10:00 до 21:00</div><a class="place-body__link" href="tel:+380934200022">+38 093 420 00 22</a></div>'}],i=L.icon({iconUrl:"images/map-marker.svg",iconSize:[32,40],iconAnchor:[15,40],popupAnchor:[0,0]}),o=L.icon({iconUrl:"images/map-marker-active.svg",iconSize:[32,40],iconAnchor:[15,40],popupAnchor:[0,0]}),n=[];t.forEach((e,t)=>{const a=0===t?o:i,d=L.marker(e.coords,{icon:a}).addTo(s).bindPopup(e.popup);d.on("click",()=>{n.forEach(e=>e.setIcon(i)),d.setIcon(o),document.querySelectorAll(".addresses-list__item").forEach(e=>e.classList.remove("addresses-list__item--active")),document.querySelectorAll(".addresses-list__item")[t].classList.add("addresses-list__item--active")}),n.push(d)}),document.querySelectorAll(".addresses-list__item").forEach((e,a)=>{e.addEventListener("click",()=>{document.querySelectorAll(".addresses-list__item").forEach(e=>e.classList.remove("addresses-list__item--active")),e.classList.add("addresses-list__item--active"),n.forEach(e=>e.setIcon(i)),n[a].setIcon(o);const{coords:d}=t[a];s.setView(d,12),n[a].openPopup()})}),s.setView(t[0].coords,e),n[0].openPopup()}function startAnimationCycle(e){const s=document.querySelectorAll(e);if(!s.length)return;let t=0;!function e(){s.forEach(e=>e.classList.remove("--active")),s[t].classList.add("--active"),t=(t+1)%s.length,setTimeout(e,3e3)}()}window.innerWidth<=768&&(startAnimationCycle(".team-list__item"),startAnimationCycle(".recalls-list__item"),startAnimationCycle(".partnership-list__item"),startAnimationCycle(".collaborations-list__item")),window.addEventListener("scroll",()=>{(window.scrollY||document.documentElement.scrollTop)>=90?document.body.classList.add("body--scrolled"):document.body.classList.remove("body--scrolled")});const burgers=document.querySelectorAll(".burger");burgers.forEach(e=>{e.addEventListener("click",()=>{document.body.classList.toggle("body--active"),document.body.classList.remove("body--scrolled")})});const links=document.querySelectorAll(".linksbar-list__link");links.forEach(e=>{e.addEventListener("click",()=>{document.body.classList.remove("body--active")})});const footer=document.querySelector("footer");if(footer){new IntersectionObserver(([e])=>{e.isIntersecting?document.body.classList.add("body--footer"):document.body.classList.remove("body--footer")},{root:null,threshold:0}).observe(footer)}const barberItems=document.querySelectorAll(".barbers-list__item"),servicesBlocks=document.querySelectorAll(".servicess-body");function toggleHoverClass(e,s){const t=document.querySelectorAll(e);if(!t.length)return;const i="ontouchstart"in window||navigator.maxTouchPoints>0;t.forEach(e=>{i?(e.addEventListener("click",t=>{t.stopPropagation(),e.classList.toggle(s)}),document.addEventListener("click",t=>{e.contains(t.target)||e.classList.remove(s)})):(e.addEventListener("mouseenter",()=>{e.classList.add(s)}),e.addEventListener("mouseleave",()=>{e.classList.remove(s)}))})}function handleScroll(){0===window.scrollY?document.body.classList.remove("body--top"):document.body.classList.add("body--top")}barberItems.forEach((e,s)=>{e.addEventListener("click",()=>{barberItems.forEach(e=>e.classList.remove("barbers-list__item--active")),e.classList.add("barbers-list__item--active"),servicesBlocks.forEach(e=>{const t=e.querySelectorAll(".servicess-body__services");t.forEach(e=>e.classList.remove("servicess-body__services--active")),t[s]&&t[s].classList.add("servicess-body__services--active")})})}),document.querySelectorAll(".faq-list__item").forEach(e=>{e.addEventListener("click",()=>{e.classList.contains("faq-list__item--active")?e.classList.remove("faq-list__item--active"):(document.querySelectorAll(".faq-list__item").forEach(e=>e.classList.remove("faq-list__item--active")),e.classList.add("faq-list__item--active"))})}),toggleHoverClass(".places","places--active"),toggleHoverClass(".lang","lang--active"),document.querySelectorAll(".tub[data-tubs]").forEach((e,s,t)=>{e.addEventListener("click",()=>{const s=e.dataset.tubs,t=Array.from(document.querySelectorAll(`.tub[data-tubs="${s}"]`)),i=Array.from(document.querySelectorAll(`.tub-element[data-tubs="${s}"]`)),o=t.indexOf(e);t.forEach(e=>e.classList.remove("tub--active")),e.classList.add("tub--active"),i.forEach(e=>e.classList.remove("tub-element--active")),i[o]&&i[o].classList.add("tub-element--active")})}),window.addEventListener("scroll",handleScroll),window.addEventListener("load",handleScroll),new Swiper(".heading-swiper",{slidesPerView:1,loop:!0,speed:750,effect:"fade",fadeEffect:{crossFade:!0},navigation:{prevEl:".heading-arrow--prev",nextEl:".heading-arrow--next"},pagination:{el:".heading-swiper__pagination",type:"bullets",clickable:!0}}),new Swiper(".cost-swiper",{slidesPerView:4,loop:!1,speed:750,enabled:!1,spaceBetween:48,grid:{rows:2,fill:"rows"},pagination:{el:".cost-swiper__pagination",type:"bullets",clickable:!0},breakpoints:{301:{slidesPerView:1.05,loop:!1,speed:750,enabled:!0,spaceBetween:20,grid:{rows:2,fill:"rows"}},551:{slidesPerView:1.5,loop:!1,speed:750,enabled:!0,spaceBetween:48,grid:{rows:2,fill:"rows"}},769:{slidesPerView:4,loop:!1,speed:750,enabled:!0,spaceBetween:48,grid:{rows:2,fill:"rows"}},1701:{slidesPerView:4,loop:!1,speed:750,enabled:!0,spaceBetween:148,grid:{rows:2,fill:"rows"}}}}),new Swiper(".news-swiper",{slidesPerView:3,loop:!1,speed:750,spaceBetween:84,navigation:{prevEl:".arrow--news-prev",nextEl:".arrow--news-next"},breakpoints:{301:{slidesPerView:1.2,loop:!1,speed:750,spaceBetween:40},551:{slidesPerView:2,loop:!1,speed:750,spaceBetween:40},769:{slidesPerView:2,loop:!1,speed:750,spaceBetween:24},993:{slidesPerView:3,loop:!1,speed:750,spaceBetween:24},1201:{slidesPerView:3,loop:!1,speed:750,spaceBetween:24},1701:{slidesPerView:3,loop:!1,speed:750,spaceBetween:84}}}),new Swiper(".recalls-swiper",{slidesPerView:4,loop:!1,speed:750,spaceBetween:60,navigation:{prevEl:".arrow--prev",nextEl:".arrow--next"},breakpoints:{301:{slidesPerView:2.4,loop:!1,speed:750,spaceBetween:40},769:{slidesPerView:4,loop:!1,speed:750,spaceBetween:40},993:{slidesPerView:5,loop:!1,speed:750,spaceBetween:40},1201:{slidesPerView:3,loop:!1,speed:750,spaceBetween:40},1701:{slidesPerView:4,loop:!1,speed:750,spaceBetween:60}}}),new Swiper(".achievements-swiper",{slidesPerView:4,loop:!1,speed:750,spaceBetween:84,navigation:{prevEl:".arrow--achievements-prev",nextEl:".arrow--achievements-next"},breakpoints:{301:{slidesPerView:1.2,loop:!1,speed:750,spaceBetween:40},551:{slidesPerView:2,loop:!1,speed:750,spaceBetween:40},993:{slidesPerView:3,loop:!1,speed:750,spaceBetween:24},1201:{slidesPerView:4,loop:!1,speed:750,spaceBetween:24},1701:{slidesPerView:4,loop:!1,speed:750,spaceBetween:84}}}),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".popup"),s={contact:document.querySelector(".popup--contact")};function t(e){e.classList.add("popup--active"),e.style.display="block",e.style.opacity="0",function(e,s,t){e.style.opacity="0",e.style.display="block";const i=performance.now();requestAnimationFrame((function o(n){const a=n-i,d=Math.min(a/s,1);e.style.opacity=d,d<1?requestAnimationFrame(o):t&&t()}))}(e,250,(function(){o(e,1,250)})),document.body.classList.add("body--popup")}function i(e){e.classList.remove("popup--active"),function(e,s,t){const i=performance.now(),o=parseFloat(getComputedStyle(e).opacity);requestAnimationFrame((function n(a){const d=a-i,l=Math.min(d/s,1);e.style.opacity=o*(1-l),l<1?requestAnimationFrame(n):(e.style.display="none",t&&t())}))}(e,250,(function(){o(e,1,250)})),document.body.classList.remove("body--popup")}function o(e,s,t){const i=performance.now(),o=parseFloat(getComputedStyle(e).opacity),n=s-o;requestAnimationFrame((function s(a){const d=a-i,l=Math.min(d/t,1);e.style.opacity=o+n*l,l<1&&requestAnimationFrame(s)}))}document.querySelectorAll(".open-contact").forEach(e=>{e.addEventListener("click",(function(e){e.stopPropagation(),e.preventDefault(),t(s.contact)}))});document.querySelectorAll(".cls").forEach(s=>{s.addEventListener("click",(function(s){s.stopPropagation(),s.preventDefault(),i(e)}))}),document.addEventListener("click",(function(e){Object.keys(s).forEach(t=>{const o=s[t];if(o&&o.classList.contains("popup--active")){const s=o.querySelector(".popup__inner");s&&!s.contains(e.target)&&i(o)}})}))}));